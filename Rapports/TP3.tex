\documentclass[12pt,a4paper]{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage[frenchb]{babel}
\usepackage[left=1.5cm,right=1.5cm,top=2cm,bottom=2cm]{geometry}
\usepackage{listings}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{fancyhdr}
\author{Hamza ABBAD\\ Master Systèmes Informatiques Intelligents}
\title{\textbf{Rapport de TP ASGBD} \\ TP $n^{\circ}$3}
\lstdefinestyle{OracleSQL}{language=SQL,breaklines=true, frame=single, keywordstyle=\bfseries\color{Blue},
keywordstyle=[2]\color{Blue},stringstyle=\color{OliveGreen},extendedchars=false,sensitive=false,
commentstyle=\slshape\color{Gray},basicstyle=\small\ttfamily,
morekeywords={TABLESPACE,AUTOEXTEND,TEMPORARY,PRIVILEGES,DATAFILE,IDENTIFIED,TEMPFILE,TO,ONLINE,USER,NVARCHAR2,REFERENCES,
MODIFY,RENAME,DISABLE}
}
\pagestyle{fancyplain}
\lhead{Hamza ABBAD}
\chead{201200006342}
\rhead{SII M1 - Groupe 2}
\begin{document}
\maketitle
\begin{enumerate}
	\item Pour lister le catalogue \texttt{DICT} il suffit d'exécuter la requête suivante :
	\begin{verbatim}
		SELECT * FROM DICT;
	\end{verbatim}
	Elle retourne un grand nombre de lignes, dans mon cas, il a 1821 lignes. Il contient 2 colonnes :
	\begin{enumerate}
		\item \texttt{TABLE\_NAME} qui contient le nom de chaque tableau dans la méta-base.
		\item \texttt{COMMENTS} qui contient la description du contenu de ce tableau.
	\end{enumerate}
	\item Le tableau \texttt{ALL\_TAB\_COLUMNS} décrit les colonnes des tables et vues accessibles à l'utilisateur courant, et
	comme cet utilisateur est \texttt{SYSTEM}, on voit tout les tables existantes.
	Ce tabeau contient 31 colonnes, parmi eux on trouve :
	\begin{itemize}
		\item \texttt{OWNER} : Le nom de l'utilisateur propriétaire de la table/vue.
		\item \texttt{TABLE\_NAME} : Le nom de la table/vue.
		\item \texttt{COLUMN\_NAME} : Le nom de la colonne.
		\item \texttt{DATA\_TYPE} : Le type de la colonne.
		\item \texttt{DATA\_LENGTH} : La taille de la colonne (en octets).
		\item \texttt{DATA\_PRECISION} : La précision d'un nombre décimal (Pour les types \texttt{FLOAT} et \texttt{NUMBER}).
		\item \texttt{NULLABLE} : Spécifie si la colonne accepte la valeur \texttt{NULL}. Si la valeur de cette colonne est \texttt{N}
		alors il n'est pas possible d'insérer \texttt{NULL} dans cette colonne.
		\item \texttt{COLUMN\_ID} : Un nombre unique identifiant la colonne.
		\item \texttt{DATA\_DEFAULT} : La valeur par défaut de la colonne.
		\item \texttt{NUM\_DISTINCT} : Nombre de valeurs distincts dans la colonne.
		\item \texttt{LOW\_VALUE} : La plus petite valeur dans la colonne.
		\item \texttt{HIGH\_VALUE} : La plus grande valeur dans la colonne.
		\item \texttt{NUM\_NULLS} : Nombre de valeurs \texttt{NULL} dans la colonne.
	\end{itemize}
	Le tableau \texttt{USER\_USERS} décrit l'utilisateur courant. Il contient 10 colonnes :
	\begin{itemize}
		\item \texttt{USERNAME} : Le nom de l'utilisateur.
		\item \texttt{USER\_ID} : L'identificateur de l'utilisateur.
		\item \texttt{ACCOUNT\_STATUS} : L'état de son compte.
		\item \texttt{LOCK\_DATE} : Date de verrouillage du compte (S'il est verrouillé).
		\item \texttt{EXPIRY\_DATE} : Date de péremption du compte.
		\item \texttt{DEFAULT\_TABLESPACE} : L'espace des tables par défaut pour ce compte.
		\item \texttt{TEMPORARY\_TABLESPACE} : L'espace des tables temporaire pour ce compte.
		\item \texttt{CREATED} : La date de création du compte.
		\item \texttt{INITIAL\_RSRC\_CONSUMER\_GROUP}.
		\item \texttt{EXTERNAL\_NAME}.
	\end{itemize}
	Le tableau \texttt{ALL\_CONSTRAINTS} décrit tout les contraintes d'integrité qui sont accessibles à l'utilisateur courant.
	Comme on est connecté avec \texttt{SYSTEM}, alors on peut voir tout les contraintes existantes.
	Ce tableau contient 21 colonnes, parmi ces colonnes on trouve :
	\begin{itemize}
		\item \texttt{OWNER} : Le nom de l'utilisateur propriétaire de la contrainte.
		\item \texttt{CONSTRAINT\_NAME} : Le nom de la contrainte.
		\item \texttt{CONSTRAINT\_TYPE} : Le type de la contrainte.
		\item \texttt{TABLE\_NAME} : La table/vue qui associé à la contrainte.
		\item \texttt{R\_OWNER} : Le nom de l'utilisateur propriétaire du tableau référencée (Si la contrainte est référentielle).
		\item \texttt{R\_CONSTRAINT\_NAME} : Le nom de la contrainte dans le tableau référencée (Si la contrainte est référentielle).
		\item \texttt{DELETE\_RULE} : La règle de suppression pour les contraintes référentielles.
		\item \texttt{STATUS} : \'{E}tat d'activation de la contrainte.
		\item \texttt{LAST\_CHANGE} : La dernière date d'activation/désactivation de la contrainte.
	\end{itemize}
	Le tableau \texttt{USER\_TAB\_PRIVS} décrit les privilèges des objets dont l'utilisateur courant il est le propriétaire,
	le concédent ou le titulaire du privilège. Il contient 7 colonnes :
	\begin{itemize}
		\item \texttt{GRANTEE} : Le nom de l'utilisateur dont le privilège est accordé.
		\item \texttt{OWNER} : Le nom de l'utilisateur propriétaire de l'objet.
		\item \texttt{TABLE\_NAME} : Le nom de l'objet.
		\item \texttt{GRANTOR} : Le nom de l'utilisateur qui a attribué le privilège.
		\item \texttt{PRIVILEGE} : Le nom du privilège.
		\item \texttt{GRANTABLE} : Indique si le privilege a été attribué en utilisant le \texttt{GRANT OPTION}.
		\item \texttt{HIERARCHY} : Indique si le privilege a été attribué en utilisant le \texttt{HIERARCHY OPTION}.
	\end{itemize}
	\item Pour trouver le nom de l'utilisateur courant, il suffit d'exécuter la requête suivante :
	\begin{verbatim}
		SELECT USERNAME FROM USER_USERS;
	\end{verbatim}
	Résultat : \texttt{SYS}.
	\item La différence entre les tableaux \texttt{ALL\_TAB\_COLUMNS} et \texttt{USER\_TAB\_COLUMNS} est que le premier contient
	les colonnes des tableaux que l'utilisateur courant a le privilège de les consulter, par contre le second ne contient que les
	colonnes des tableaux dont il est le propriétaire. C'est pour cela que le tableau \texttt{ALL\_TAB\_COLUMNS} contient une colonne
	supplémentaire \texttt{OWNER} indiquant le propriétaire du tableau.
\end{enumerate}
\end{document}
